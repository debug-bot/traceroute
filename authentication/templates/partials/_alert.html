{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert" aria-live="polite" aria-atomic="true">
        <strong>
          {% if message.tags == 'error' %}
            Error!
          {% elif message.tags == 'success' %}
            Success!
          {% elif message.tags == 'warning' %}
            Warning!
          {% else %}
            Note:
          {% endif %}
        </strong>
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {% endfor %}
  </div>
{% endif %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        setTimeout(function() {
        var alerts = document.querySelectorAll(".alert");
        
        alerts.forEach(function(alert) {
            alert.style.maxHeight = alert.offsetHeight + "px";

            alert.offsetHeight; 

            alert.style.transition = "opacity 500ms ease-out, max-height 500ms ease-out, margin 500ms ease-out, padding 500ms ease-out";

            alert.style.opacity = "0";
            alert.style.maxHeight = "0";
            alert.style.margin = "0";
            alert.style.padding = "0";

            alert.addEventListener("transitionend", function(event) {
            if (event.propertyName === "opacity") {
                alert.parentNode.removeChild(alert);
            }
            });
        });
        }, 5000); 
    });
</script>