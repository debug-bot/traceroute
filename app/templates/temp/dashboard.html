{% extends 'temp/base.html' %} {% load static %} {% block styles %}
<style>
    .card-header-dashboard {
        padding-left: 1.5rem !important;
        padding-right: 1.5rem !important;
    }
    .card-body-dashboard {
        padding: 1.5rem !important;
    }

    .table-bordered th,
    .table-bordered td {
        border: none !important;
    }

    .table-bordered td,
    .table-bordered th {
        border-left: none;
        border-right: none;
    }
    .table-bordered {
        border: 1px solid var(--bs-gray-300);
    }
</style>
{% endblock %} {% block content %}
<div class="d-flex gap-6 flex-column mt-6">
    <!-- Top Stats Row -->
    <div class="row g-6 align-items-stretch">
        <!-- Network Uptime -->
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-6">
                        <!-- Top Row: Left Icon & Right Arrow + % -->
                        <div class="d-flex justify-content-between">
                            <!-- Left Icon with Light Background -->
                            <div
                                class="p-2 rounded d-flex align-items-center justify-content-center"
                                style="
                                    width: 40px;
                                    height: 40px;
                                    background-color: #eff6ff;
                                "
                            >
                                <img
                                    class="h-lg-24px"
                                    src="{% static 'assets/media/svg/dashboard/network-uptime.svg' %}"
                                    alt="Networking Icon"
                                />
                            </div>
                            <!-- Arrow + % -->
                            <!--
                            <div class="d-flex align-items-center text-success">
                                <img
                                    class="h-lg-16px"
                                    src="{% static 'assets/media/svg/custom/arrow-green-up.svg' %}"
                                    alt="Arrow Icon"
                                />
                                <span class="ms-1">+0.3%</span>
                            </div>
                            Arrow + % -->
                        </div>

                        <!-- Bottom Row: Title & Value -->
                        <div class="mt-4">
                            <h6 class="text-muted mb-1">Network Uptime</h6>
                            <h2 class="mb-0 text-grey-900" id="network-uptime">
                                {{ network_uptime }}
                            </h2>
                        </div>
                    </div>
                </div>
            </div>
        <!-- Total Devices -->
        <div class="col-md-3">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body card-body-dashboard">
                    <!-- Top Row: Left Icon & Right Arrow + % -->
                    <div class="d-flex justify-content-between">
                        <!-- Left Icon with Light Background -->
                        <div
                            class="p-2 rounded d-flex align-items-center justify-content-center"
                            style="
                                width: 40px;
                                height: 40px;
                                background-color: #eff6ff;
                            "
                        >
                            <img
                                class="h-lg-24px"
                                src="{% static 'assets/media/svg/dashboard/devices.svg' %}"
                                alt="Devices Icon"
                            />
                        </div>
                        <!-- Arrow + % -->
                        <!-- 
                        <div class="d-flex align-items-center text-danger">
                            <img
                                class="h-lg-16px"
                                src="{% static 'assets/media/svg/custom/arrow-red-down.svg' %}"
                                alt="Icon"
                            />
                            <span class="ms-1">+0.3%</span>
                        </div>
                        -->
                    </div>

                    <!-- Bottom Row: Title & Value -->
                    <div class="mt-4">
                        <h6 class="text-muted mb-1">Total Devices</h6>
                        <h2 class="mb-0 text-gray-900" id="total-devices">{{ total_devices }}</h2>
                    </div>
                </div>
            </div>
        </div>
        <!-- Active Alerts -->
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-6">
                        <!-- Top Row: Left Icon & Right Arrow + % -->
                        <div class="d-flex justify-content-between">
                            <!-- Left Icon with Light Background -->
                            <div
                                class="p-2 rounded d-flex align-items-center justify-content-center"
                                style="
                                    width: 40px;
                                    height: 40px;
                                    background-color: #fefce8;
                                "
                            >
                                <img
                                    class="h-lg-24px"
                                    src="{% static 'assets/media/svg/dashboard/alert.svg' %}"
                                    alt="Icon"
                                />
                            </div>
                            <!-- Arrow + % -->
                            
                        </div>

                        <!-- Bottom Row: Title & Value -->
                        <div class="mt-4">
                            <h6 class="text-muted mb-1">Active Alerts</h6>
                            <h2 class="mb-0 text-grey-900" id="active-alerts">
                                {{ active_alerts }}
                            </h2>
                        </div>
                    </div>
                </div>
            </div>
        <!-- Device Status -->
        <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-6">
                        <!-- Top Row: Left Icon & Right Arrow + % -->
                        <div class="d-flex justify-content-between">
                            <!-- Left Icon with Light Background -->
                            <div
                                class="p-2 rounded d-flex align-items-center justify-content-center"
                                style="
                                    width: 40px;
                                    height: 40px;
                                    background-color: #eff6ff;
                                "
                            >
                                <img
                                    class="h-lg-24px"
                                    src="{% static 'assets/media/svg/dashboard/devices.svg' %}"
                                    alt="Devices Icon"
                                />
                            </div>
                            <!-- Arrow + % -->
                            
                        </div>

                        <!-- Bottom Row: Title & Value -->
                        <div class="mt-4">
                            <h6 class="text-muted mb-1">Device Status</h6>
                            <div class="d-flex gap-4 align-items-end">
                                <h2
                                    class="mb-0 text-grey-900"
                                    id="total-devices"
                                >
                                    {{ total_devices }}
                                </h2>
                                <div
                                    class="text-muted text-xs"
                                    id="offline-devices"
                                >
                                    {{ offline_devices }} Offline
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <!-- Middle Row: DataCenter Status & Protocol Dashboard -->
    <div class="row g-6 align-items-stretch">
        <!-- DataCenter Status -->
        <div class="col-lg-8">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-header card-header-dashboard">
                    <span class="card-title mb-0">
                        <img
                            class="h-lg-24px theme-light-show"
                            src="{% static 'assets/media/svg/custom/globe.svg' %}"
                            alt="Icon"
                        />
                        <img
                            class="h-lg-24px theme-dark-show"
                            src="{% static 'assets/media/svg/custom/globe-dark.svg' %}"
                            alt="Icon"
                        />
                        <h5 class="ms-3 lh-0">DataCenter Status</h5>
                    </span>
                </div>
                <div class="card-body card-body-dashboard">
                    <div class="row g-4">
                        {% for datacenter in datacenters %}

                        <div class="col-sm-6">
                            <div class="h-100 border rounded p-3">
                                <div class="d-flex justify-content-between">
                                    <span>{{ datacenter }}</span>
                                    <img
                                        class="h-lg-20px"
                                        src="{% static 'assets/media/svg/custom/tick-green.svg' %}"
                                        alt="Icon"
                                    />
                                </div>
                                <div class="text-muted">{% with count=datacenter.router_set.count %}
                                    {{ count }} {% if count == 1 %}Device{% else %}Devices{% endif %}
                                {% endwith %}
                                </div>
                                <div
                                    class="d-flex text-warning align-items-end mt-2"
                                >
                                    <img
                                        class="h-lg-16px"
                                        src="{% static 'assets/media/svg/custom/warning-yellow.svg' %}"
                                        alt="Icon"
                                    />
                                    <span class="lh-1 ms-1">
                                        5 active alerts
                                    </span>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Protocol Dashboard -->
        <div class="col-lg-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-header card-header-dashboard">
                    <span class="card-title mb-0">
                        <img
                            class="h-lg-24px theme-light-show"
                            src="{% static 'assets/media/svg/custom/protocol-dashboard.svg' %}"
                            alt="Icon"
                        />
                        <img
                            class="h-lg-24px theme-dark-show"
                            src="{% static 'assets/media/svg/custom/protocol-dashboard-dark.svg' %}"
                            alt="Icon"
                        />
                        <h5 class="ms-3 lh-0">Protocol Dashboard</h5>
                    </span>
                </div>
                <div
                    class="card-body card-body-dashboard d-flex gap-4 flex-column"
                >
                    <div class="border rounded p-3">
                        <div
                            class="d-flex justify-content-between align-items-center"
                        >
                            <div class="d-flex align-items-center">
                                <img
                                    class="h-lg-20px"
                                    src="{% static 'assets/media/svg/custom/network-grey.svg' %}"
                                    alt="Icon"
                                />
                                <div class="d-flex flex-column ms-2">
                                    <span>BGP</span>
                                    <span class="text-muted">
                                        48 / 48 Active
                                    </span>
                                </div>
                            </div>
                            <img
                                class="h-lg-20px"
                                src="{% static 'assets/media/svg/custom/tick-green.svg' %}"
                                alt="Icon"
                            />
                        </div>
                    </div>
                    <div class="border rounded p-3">
                        <div
                            class="d-flex justify-content-between align-items-center"
                        >
                            <div class="d-flex align-items-center">
                                <img
                                    class="h-lg-20px"
                                    src="{% static 'assets/media/svg/custom/network-grey.svg' %}"
                                    alt="Icon"
                                />
                                <div class="d-flex flex-column ms-2">
                                    <span>ISIS</span>
                                    <span class="text-muted">
                                        20 / 48 Active
                                    </span>
                                </div>
                            </div>
                            <img
                                class="h-lg-20px"
                                src="{% static 'assets/media/svg/custom/warning-yellow.svg' %}"
                                alt="Icon"
                            />
                        </div>
                        <div class="d-flex text-warning align-items-end mt-2">
                            <img
                                class="h-lg-16px"
                                src="{% static 'assets/media/svg/custom/warning-yellow.svg' %}"
                                alt="Icon"
                            />
                            <span class="lh-1 ms-1"> 3 Issues Detected </span>
                        </div>
                    </div>
                    <div class="border rounded p-3">
                        <div
                            class="d-flex justify-content-between align-items-center"
                        >
                            <div class="d-flex align-items-center">
                                <img
                                    class="h-lg-20px"
                                    src="{% static 'assets/media/svg/custom/network-grey.svg' %}"
                                    alt="Icon"
                                />
                                <div class="d-flex flex-column ms-2">
                                    <span>BGP</span>
                                    <span class="text-muted">
                                        48 / 48 Active
                                    </span>
                                </div>
                            </div>
                            <img
                                class="h-lg-20px"
                                src="{% static 'assets/media/svg/custom/tick-green.svg' %}"
                                alt="Icon"
                            />
                        </div>
                    </div>
                    <div class="border rounded p-3">
                        <div
                            class="d-flex justify-content-between align-items-center"
                        >
                            <div class="d-flex align-items-center">
                                <img
                                    class="h-lg-20px"
                                    src="{% static 'assets/media/svg/custom/network-grey.svg' %}"
                                    alt="Icon"
                                />
                                <div class="d-flex flex-column ms-2">
                                    <span>BGP</span>
                                    <span class="text-muted">
                                        48 / 48 Active
                                    </span>
                                </div>
                            </div>
                            <img
                                class="h-lg-20px"
                                src="{% static 'assets/media/svg/custom/error-red.svg' %}"
                                alt="Icon"
                            />
                        </div>
                        <div class="d-flex text-warning align-items-end mt-2">
                            <img
                                class="h-lg-16px"
                                src="{% static 'assets/media/svg/custom/warning-yellow.svg' %}"
                                alt="Icon"
                            />
                            <span class="lh-1 ms-1"> 5 Issues Detected </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Row: Recent Alerts & Quick Actions -->
    <div class="row g-6 align-items-stretch">
        <!-- Recent Alerts -->
        <div class="col-lg-8">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-header card-header-dashboard">
                    <h5 class="card-title mb-0">Recent Alerts</h5>
                </div>
                <div class="card-body card-body-dashboard table-responsive">
                    <table class="table table-bordered table-hover table-striped table-row-bordered border rounded mb-0">
                        <thead>
                            <tr>
                                <th scope="col">Time</th>
                                <th scope="col">Alert Type</th>
                                <th scope="col">Source</th>
                                <th scope="col">Device</th>
                                <!--
                                <th scope="col">Status</th>
                                -->
                            </tr>
                        </thead>
                        <tbody>
                            {% for alert in alerts %}
                            <tr>
                                <td>{{ alert.created_at|date:"M d, h:i A" }}</td>
                                <td>{{ alert.type }}</td>
                                <td>{{ alert.source }}</td>
                                <td>{{ alert.hostname }}</td>
                                <!--
                                <td>
                                    <span class="badge badge-light-warning"
                                        >Warn</span
                                    >
                                </td>
                                -->
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="col-lg-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-header card-header-dashboard">
                    <h5 class="card-title mb-0">Quick Actions</h5>
                </div>
                <div class="card-body card-body-dashboard">
                    <button class="btn btn-outline-secondary w-100 mb-2 border">
                        <img
                            class="h-lg-24px theme-light-show"
                            src="{% static 'assets/media/svg/custom/network.svg' %}"
                            alt="Icon"
                        />
                        <img
                            class="h-lg-24px theme-dark-show"
                            src="{% static 'assets/media/svg/custom/network-dark.svg' %}"
                            alt="Icon"
                        />
                        Run Ping Test
                    </button>
                    <button class="btn btn-outline-secondary w-100 mb-2 border">
                        <img
                            class="h-lg-24px theme-light-show"
                            src="{% static 'assets/media/svg/custom/traceroute.svg' %}"
                            alt="Icon"
                        />
                        <img
                            class="h-lg-24px theme-dark-show"
                            src="{% static 'assets/media/svg/custom/traceroute-dark.svg' %}"
                            alt="Icon"
                        />
                        Traceroute
                    </button>
                    <button class="btn btn-outline-secondary w-100 border">
                        <img
                            class="h-lg-24px theme-light-show"
                            src="{% static 'assets/media/svg/custom/download.svg' %}"
                            alt="Icon"
                        />
                        <img
                            class="h-lg-24px theme-dark-show"
                            src="{% static 'assets/media/svg/custom/download-dark.svg' %}"
                            alt="Icon"
                        />
                        Download Config
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
